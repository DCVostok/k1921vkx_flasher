#===============================================================================
# Tools
#===============================================================================
PYUIC = pyuic5
PYRCC = pyrcc5

#===============================================================================
# Paths and files
#===============================================================================
APPPATH = ..

UIFILES = $(wildcard *.ui)
UIPYFILES = $(addprefix ${APPPATH}/ui_, $(patsubst %.ui, %.py, $(UIFILES)))

RCFILES = $(wildcard *.qrc)
RCPYFILES = $(addprefix ${APPPATH}/, $(patsubst %.qrc, %_rc.py, $(RCFILES)))

#===============================================================================
# Make all targets
#===============================================================================
all: ui rc

#===============================================================================
# Convert .ui to .py
#===============================================================================
ui: $(UIPYFILES)

${APPPATH}/ui_%.py: %.ui
	@echo $< "->" $@
	@$(PYUIC) -x $< -o $@

rc: $(RCPYFILES)

${APPPATH}/%_rc.py: %.qrc
	@echo $< "->" $@
	@$(PYRCC) $< -o $@

clean:
	rm -f ${UIPYFILES}
	rm -f ${RCPYFILES}
